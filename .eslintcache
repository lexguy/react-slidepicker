<<<<<<< HEAD
[{"D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\src\\index.tsx":"1","D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\src\\single.tsx":"2","D:\\xgithub\\react-slidepicker\\src\\Test\\slide.js":"3","D:\\xgithub\\react-slidepicker\\src\\reportWebVitals.js":"4","D:\\xgithub\\react-slidepicker\\src\\index.js":"5","D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\index.ts":"6","D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\src\\modal.tsx":"7"},{"size":4344,"mtime":1611555850794,"results":"8","hashOfConfig":"9"},{"size":6942,"mtime":1611373038670,"results":"10","hashOfConfig":"9"},{"size":1994,"mtime":1611570278180,"results":"11","hashOfConfig":"9"},{"size":362,"mtime":1607420161198,"results":"12","hashOfConfig":"9"},{"size":668,"mtime":1610076221561,"results":"13","hashOfConfig":"9"},{"size":347,"mtime":1611548882443,"results":"14","hashOfConfig":"9"},{"size":1766,"mtime":1611570011863,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},"dyevku",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\src\\index.tsx",["31","32","33"],"/*\r\n * @Author: xuwei\r\n * @Date: 2021-01-08 10:41:34\r\n * @LastEditTime: 2021-01-25 14:24:10\r\n * @LastEditors: xuwei\r\n * @Description:\r\n */\r\nimport React, { CSSProperties } from \"react\";\r\nimport { defaultSingleProps, ISingleProps, Slide } from \"./single\";\r\n\r\ninterface IPickerProps {\r\n  dataSource: any[];\r\n  pickerDeep: number;\r\n  confirm: ({}) => void;\r\n  onceChange: (args: any) => void;\r\n  cancel: ({}) => void;\r\n  pickerStyle: ISingleProps;\r\n  headOptions: {};\r\n  customHead: {};\r\n}\r\n\r\nconst defaultProps = {\r\n  dataSource: [], //data\r\n  pickerDeep: 3,\r\n  onceChange: (arr: []) => {}, // once change callback\r\n  confirm: (arr: []) => {}, //confirm  send data back\r\n  cancel: () => {},\r\n  customHead: null,\r\n  pickerStyle: defaultSingleProps,\r\n  headOptions: {},\r\n};\r\n\r\nclass CascadePicker extends React.PureComponent<IPickerProps> {\r\n  static defaultProps = defaultProps;\r\n  state: {\r\n    lists: any[];\r\n  };\r\n  resultIndexs: any[]; //保存已选择的结果,只存 Index\r\n  resultArray: any[];\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      lists: this.initState(),\r\n    };\r\n    this.resultIndexs = [];\r\n    this.resultArray = [];\r\n  }\r\n\r\n  initState = () => {\r\n    const lists = new Array(this.props.pickerDeep).fill([]);\r\n    lists[0] = this.props.dataSource;\r\n    return lists;\r\n  };\r\n\r\n  /** ----------------------------------- Data ----------------------------------------- */\r\n\r\n  // 当前操作的数组，当前数组第几个被选中，当前数组是第几轮\r\n  // 递归\r\n  dismantleBebindData = (array: any[], index: number, inparIndex: number) => {\r\n    const { pickerDeep, onceChange } = this.props;\r\n    const lists = this.state.lists.slice();\r\n    const curObj = array[index];\r\n    curObj && (this.resultArray[inparIndex] = curObj);\r\n    if (array && array.length > 0) {\r\n      lists[inparIndex] = array;\r\n      this.setState({ lists }, () => {\r\n        inparIndex++;\r\n        this.dismantleBebindData(curObj.list || [], 0, inparIndex);\r\n      });\r\n    } else {\r\n      for (let i = inparIndex; i < pickerDeep; i++) {\r\n        lists[i] = [];\r\n        this.resultArray[i] = {};\r\n      }\r\n      this.setState({ lists });\r\n      onceChange && onceChange(this.resultArray);\r\n    }\r\n  };\r\n\r\n  setData = (checkedIndex: number, inparindex: number) => {\r\n    this.setResult(checkedIndex, inparindex);\r\n    this.dismantleBebindData(\r\n      this.state.lists[inparindex],\r\n      checkedIndex,\r\n      inparindex\r\n    );\r\n  };\r\n\r\n  setResult = (checkedIndex: number, inparindex: number) => {\r\n    this.resultIndexs[inparindex] = checkedIndex;\r\n    for (let i = inparindex + 1; i < this.props.pickerDeep; i++) {\r\n      this.resultIndexs[i] = 0;\r\n    }\r\n  };\r\n\r\n  /** ----------------------------------- Render ----------------------------------------- */\r\n  render() {\r\n    const TProps = this.props;\r\n    const SingleProps = TProps.pickerStyle;\r\n    return (\r\n      <div\r\n        style={{\r\n          backgroundColor: \"#fff\",\r\n          borderTopLeftRadius: 10,\r\n          borderTopRightRadius: 10,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <span style={lbtnstyle} onClick={TProps.cancel}>\r\n            取消\r\n          </span>\r\n          <span style={rbtnstyle} onClick={TProps.confirm}>\r\n            确认\r\n          </span>\r\n        </div>\r\n        <div\r\n          style={{\r\n            height: SingleProps.visibleNum * SingleProps.itemHeight,\r\n            flexDirection: \"row\",\r\n            display: \"flex\",\r\n            overflow: \"hidden\",\r\n          }}\r\n        >\r\n          {this.state.lists.map((ele, index) => (\r\n            <Slide\r\n              key={index}\r\n              {...SingleProps}\r\n              pickerDeep={TProps.pickerDeep}\r\n              list={ele}\r\n              index={index}\r\n              inparindex={index}\r\n              done={this.setData}\r\n            />\r\n          ))}\r\n          <div />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst lbtnstyle: CSSProperties = {\r\n  display: \"inline-block\",\r\n  padding: `10px`,\r\n  borderTopLeftRadius: 5,\r\n};\r\nconst rbtnstyle: CSSProperties = {\r\n  display: \"inline-block\",\r\n  padding: `10px`,\r\n};\r\n\r\nexport default { CascadePicker };\r\n","D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\src\\single.tsx",[],"D:\\xgithub\\react-slidepicker\\src\\Test\\slide.js",[],"D:\\xgithub\\react-slidepicker\\src\\reportWebVitals.js",[],"D:\\xgithub\\react-slidepicker\\src\\index.js",[],"D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\index.ts",[],"D:\\xgithub\\react-slidepicker\\src\\react-slidepicker\\src\\modal.tsx",["34"],{"ruleId":"35","severity":1,"message":"36","line":14,"column":13,"nodeType":"37","messageId":"38","endLine":14,"endColumn":15},{"ruleId":"35","severity":1,"message":"36","line":16,"column":12,"nodeType":"37","messageId":"38","endLine":16,"endColumn":14},{"ruleId":"39","severity":1,"message":"40","line":159,"column":1,"nodeType":"41","endLine":159,"endColumn":34},{"ruleId":"42","severity":1,"message":"43","line":9,"column":28,"nodeType":"44","messageId":"45","endLine":9,"endColumn":37},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","@typescript-eslint/no-unused-vars","'ReactNode' is defined but never used.","Identifier","unusedVar"]
=======
[{"/Users/lex/MyFrontSpace/npm/react-slidepicker/src/react-slidepicker/index.ts":"1","/Users/lex/MyFrontSpace/npm/react-slidepicker/src/react-slidepicker/src/single.tsx":"2","/Users/lex/MyFrontSpace/npm/react-slidepicker/src/Test/slide.js":"3","/Users/lex/MyFrontSpace/npm/react-slidepicker/src/react-slidepicker/src/index.tsx":"4"},{"size":270,"mtime":1611839828277,"results":"5","hashOfConfig":"6"},{"size":6686,"mtime":1611839828278,"results":"7","hashOfConfig":"6"},{"size":1172,"mtime":1611846814556,"results":"8","hashOfConfig":"6"},{"size":5219,"mtime":1611848201787,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"w5mmll",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/lex/MyFrontSpace/npm/react-slidepicker/src/react-slidepicker/index.ts",[],"/Users/lex/MyFrontSpace/npm/react-slidepicker/src/react-slidepicker/src/single.tsx",[],"/Users/lex/MyFrontSpace/npm/react-slidepicker/src/Test/slide.js",[],"/Users/lex/MyFrontSpace/npm/react-slidepicker/src/react-slidepicker/src/index.tsx",["18","19"],{"ruleId":"20","severity":1,"message":"21","line":23,"column":13,"nodeType":"22","messageId":"23","endLine":23,"endColumn":15},{"ruleId":"24","severity":1,"message":"25","line":197,"column":1,"nodeType":"26","endLine":197,"endColumn":34},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration"]
>>>>>>> 838fab28dea8c4f2612039d13949843706f19c26
